@using Facepunch.Boomer.WeaponSystem;
@using Sandbox;
@using System;
@using Sandbox.UI;

@namespace Facepunch.Boomer
@inherits Panel;

<style>
    Crosshair {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translateX(-50%) translateY(-50%);
        transition: opacity 0.1s ease;
        opacity: 1;
    }
</style>

<root>
    @if ( DevCam != null ) return;

    <img class="icon" src="@ImagePath" />
</root>

@code {
    public Weapon Weapon => (Game.LocalPawn as Player)?.ActiveWeapon;
    public string ImagePath => Weapon?.WeaponData.CrosshairIcon ?? "";
    public DevCamera DevCam => Game.LocalClient.Components.Get<DevCamera>(false);

    protected override int BuildHash()
    {
        return HashCode.Combine( Time.Now );
    }
}